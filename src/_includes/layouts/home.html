{%- extends "layouts/base.html" -%}

{%- block content -%}
  {%- include "partials/hero-section.html" -%}
  {%- include "partials/product-section.html" -%}
  <div class="grid">
    {%- include "partials/about-section.html" -%}
    {%- include "partials/contact-section.html" -%}
  </div>
  {{ content | safe }}
  
  {# TODO: defer scripts? #}
  <script>
    const header = document.querySelector(".site-head");
    const intercept = document.querySelector(".skip-to-main");

    const observer = new IntersectionObserver(([entry]) => {
      header.toggleAttribute("data-sticky", !entry.isIntersecting);
    });

    observer.observe(intercept);
  </script>

{%- endblock -%}